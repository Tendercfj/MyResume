@tailwind base;
@tailwind components;
@tailwind utilities;

/* 统一色板（RGB 三元组，便于 Tailwind 使用 alpha） */
:root {
  /* 轻拟物+卡片化：页面底色 / 区块底色 / 卡片底色 */
  --bg: 250 250 252;
  --surface: 255 255 255;
  --surface-2: 255 255 255;
  --surface-3: 246 247 249;

  --text: 17 24 39;
  --text-muted: 75 85 99;
  --text-subtle: 107 114 128;

  --border: 229 231 235;

  --brand-primary: 59 130 246; /* 主色（更简约的蓝） */
  --brand-deep: 17 24 39; /* 深色中性（用于少量对比） */
}

* {
  padding: 0;
  margin: 0;
  box-sizing: border-box;
}

html,
body {
  height: 100%;
}

body {
  overflow-x: hidden;
  background:
    radial-gradient(
      900px circle at 20% -10%,
      rgb(var(--brand-primary) / 0.06),
      transparent 55%
    ),
    radial-gradient(
      800px circle at 90% 0%,
      rgb(var(--brand-primary) / 0.04),
      transparent 50%
    ),
    rgb(var(--bg));
  color: rgb(var(--text));
  font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont,
    "Segoe UI", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
    "Noto Sans SC", Arial, sans-serif;
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

img {
  display: block;
  max-width: 100%;
}

/* 隐藏全局纵向滚动条，但保留滚动能力 */
html,
body {
  -ms-overflow-style: none; /* IE/旧 Edge */
  scrollbar-width: none; /* Firefox */
}
html::-webkit-scrollbar,
body::-webkit-scrollbar {
  width: 0;
  height: 0;
}

::selection {
  background: rgb(var(--brand-primary) / 0.18);
}

@layer components {
  .surface-card {
    @apply rounded-2xl border border-border bg-surface-2 text-text shadow-[0_10px_30px_rgba(17,24,39,0.05)];
  }

  .fab {
    @apply surface-card grid place-items-center w-12 h-12 cursor-pointer transition-all hover:-translate-y-0.5 hover:border-brand-primary/30 hover:bg-brand-primary/5 hover:shadow-[0_12px_40px_rgba(15,23,42,0.10)] active:translate-y-0 active:bg-brand-primary/10;
  }
}

@layer utilities {
  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }

  /* 滚动出现（懒加载展示）动画：搭配 v-lazy-load 指令使用 */
  .lazy-load {
    opacity: 0;
    transform: translate3d(0, 24px, 0) scale(0.985);
    filter: blur(6px);
    transition:
      opacity var(--lazy-duration, 520ms) cubic-bezier(0.16, 1, 0.3, 1)
        var(--lazy-delay, 0ms),
      transform var(--lazy-duration, 520ms) cubic-bezier(0.16, 1, 0.3, 1)
        var(--lazy-delay, 0ms),
      filter var(--lazy-duration, 520ms) cubic-bezier(0.16, 1, 0.3, 1)
        var(--lazy-delay, 0ms);
    will-change: opacity, transform, filter;
  }

  .lazy-load[data-lazy-anim="fade"] {
    transform: scale(0.992);
  }
  .lazy-load[data-lazy-anim="fade-down"] {
    transform: translate3d(0, -24px, 0) scale(0.985);
  }
  .lazy-load[data-lazy-anim="fade-left"] {
    transform: translate3d(-24px, 0, 0) scale(0.985);
  }
  .lazy-load[data-lazy-anim="fade-right"] {
    transform: translate3d(24px, 0, 0) scale(0.985);
  }

  .lazy-load.is-visible {
    opacity: 1;
    transform: none;
    filter: none;
  }

  @media (prefers-reduced-motion: reduce) {
    .lazy-load {
      opacity: 1;
      transform: none;
      transition: none;
    }
  }
}
